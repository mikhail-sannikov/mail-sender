asyncapi: '2.6.0'
info:
  title: Socket.IO API
  version: '1.0.0'
  description: WebSocket события в проекте

servers:
  production:
    url: ws://yourhost/socket.io
    protocol: socket.io

channels:
  message:
    subscribe:
      summary: Получение сообщений
      message:
        $ref: '#/components/messages/Message'
    publish:
      summary: Отправка сообщений
      message:
        $ref: '#/components/messages/MessageInput'

components:
  messages:
    Message:
      name: message
      payload:
        type: object
        properties:
          user:
            type: string
          text:
            type: string
    MessageInput:
      name: message
      payload:
        type: object
        properties:
          text:
            type: string
